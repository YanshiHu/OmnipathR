<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="OmnipathR">
<title>The database manager in OmnipathR • OmnipathR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="The database manager in OmnipathR">
<meta property="og:description" content="OmnipathR">
<meta property="og:image" content="https://saezlab.github.io/OmnipathR/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-119440867-10"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-119440867-10');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">OmnipathR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.9.6</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/bioc_workshop.html">OmniPath Bioconductor workshop</a>
    <a class="dropdown-item" href="../articles/db_manager.html">The database manager in OmnipathR</a>
    <a class="dropdown-item" href="../articles/drug_targets.html">Building protein networks around drug-targets using OmnipathR</a>
    <a class="dropdown-item" href="../articles/extra_attrs.html">Resource specific interaction attributes</a>
    <a class="dropdown-item" href="../articles/gene_ontology.html">Gene Ontology in OmnipathR</a>
    <a class="dropdown-item" href="../articles/nichenet.html">Using NicheNet with OmnipathR</a>
    <a class="dropdown-item" href="../articles/omnipath_intro.html">OmnipathR: an R client for the OmniPath web service</a>
    <a class="dropdown-item" href="../articles/paths.html">Pathway construction</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/saezlab/OmnipathR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://twitter.com/omnipathdb">
    <span class="fab fa fab fa-twitter fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://omnipathdb.org/">
    <span class="fas fa fas fa-university"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>The database manager in OmnipathR</h1>
                        <h4 data-toc-skip class="author">Denes
Turei</h4>
            <address class="author_afil">
      Institute for Computational Biomedicine, Heidelberg
University<br><a class="author_email" href="mailto:#"></a><a href="mailto:turei.denes@gmail.com" class="email">turei.denes@gmail.com</a>
      </address>
                  
      
      <small class="dont-index">Source: <a href="https://github.com/saezlab/OmnipathR/blob/HEAD/vignettes/db_manager.Rmd" class="external-link"><code>vignettes/db_manager.Rmd</code></a></small>
      <div class="d-none name"><code>db_manager.Rmd</code></div>
    </div>

    
        <div class="abstract">
      <p class="abstract">Abstract</p>
      <p>The database manager is an API within OmnipathR which is able
      to load various datasets, keep track of their usage and remove
      them after an expiry period. Currently it supports a few Gene
      Ontology and UniProt datasets, but easily can be extended to cover
      all datasets in the package.</p>
    </div>
    
<div class="section level2">
<h2 id="available-datasets">Available datasets<a class="anchor" aria-label="anchor" href="#available-datasets"></a>
</h2>
<p>To see a full list of datasets call the <code>omnipath_show_db</code>
function:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r.omnipathdb.org/" class="external-link">OmnipathR</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/omnipath_show_db.html">omnipath_show_db</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 23 × 10</span></span></span>
<span><span class="co">##    name       last_used lifetime package loader loader_param latest_param loaded</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> Gene Onto… <span style="color: #BB0000;">NA</span>             300 Omnipa… go_on… <span style="color: #949494;">&lt;named list&gt;</span> <span style="color: #BB0000;">NA</span>           FALSE </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> Gene Onto… <span style="color: #BB0000;">NA</span>             300 Omnipa… go_on… <span style="color: #949494;">&lt;named list&gt;</span> <span style="color: #BB0000;">NA</span>           FALSE </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> Gene Onto… <span style="color: #BB0000;">NA</span>             300 Omnipa… go_on… <span style="color: #949494;">&lt;named list&gt;</span> <span style="color: #BB0000;">NA</span>           FALSE </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> Gene Onto… <span style="color: #BB0000;">NA</span>             300 Omnipa… go_on… <span style="color: #949494;">&lt;named list&gt;</span> <span style="color: #BB0000;">NA</span>           FALSE </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> Gene Onto… <span style="color: #BB0000;">NA</span>             300 Omnipa… go_on… <span style="color: #949494;">&lt;named list&gt;</span> <span style="color: #BB0000;">NA</span>           FALSE </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> Gene Onto… <span style="color: #BB0000;">NA</span>             300 Omnipa… go_on… <span style="color: #949494;">&lt;named list&gt;</span> <span style="color: #BB0000;">NA</span>           FALSE </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> Gene Onto… <span style="color: #BB0000;">NA</span>             300 Omnipa… go_on… <span style="color: #949494;">&lt;named list&gt;</span> <span style="color: #BB0000;">NA</span>           FALSE </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> Gene Onto… <span style="color: #BB0000;">NA</span>             300 Omnipa… go_on… <span style="color: #949494;">&lt;named list&gt;</span> <span style="color: #BB0000;">NA</span>           FALSE </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> Gene Onto… <span style="color: #BB0000;">NA</span>             300 Omnipa… go_on… <span style="color: #949494;">&lt;named list&gt;</span> <span style="color: #BB0000;">NA</span>           FALSE </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> Gene Onto… <span style="color: #BB0000;">NA</span>             300 Omnipa… go_on… <span style="color: #949494;">&lt;named list&gt;</span> <span style="color: #BB0000;">NA</span>           FALSE </span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 13 more rows</span></span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 2 more variables: db &lt;lgl&gt;, key &lt;chr&gt;</span></span></span></code></pre>
<p>It returns a tibble where each dataset has a human readable name and
a key which can be used to refer to it. We can also check here if the
dataset is currently loaded, the time it’s been last used, the loader
function and its arguments.</p>
</div>
<div class="section level2">
<h2 id="access-a-dataset">Access a dataset<a class="anchor" aria-label="anchor" href="#access-a-dataset"></a>
</h2>
<p>Datasets can be accessed by the <code>get_db</code> function. Ideally
you should call this function every time you use the dataset. The first
time it will be loaded, the subsequent times the already loaded dataset
will be returned. This way each access is registered and extends the
expiry time. Let’s load the human UniProt-GeneSymbol table. Above we see
its key is <code>up_gs</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">up_gs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_db.html">get_db</a></span><span class="op">(</span><span class="st">'up_gs'</span><span class="op">)</span></span>
<span><span class="va">up_gs</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 20,394 × 2</span></span></span>
<span><span class="co">##    From       To     </span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> A0A087X1C5 CYP2D7 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> A0A0B4J2F0 PIGBOS1</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> A0A0B4J2F2 SIK1B  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> A0A0C5B5G6 MT-RNR1</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> A0A0K2S4Q6 CD300H </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> A0A0U1RRE5 NBDY   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> A0A1B0GTW7 CIROP  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> A0AV02     SLC12A8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> A0AV96     RBM47  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> A0AVF1     TTC26  </span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 20,384 more rows</span></span></span></code></pre>
<p>This dataset is a two columns data frame of SwissProt IDs and Gene
Symbols. Looking again at the datasets, we find that this dataset is
loaded now and the <code>last_used</code> timestamp is set to the time
we called <code>get_db</code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/omnipath_show_db.html">omnipath_show_db</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 23 × 10</span></span></span>
<span><span class="co">##    name    last_used lifetime package   loader         loader_param latest_param</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>      </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> Gene O… <span style="color: #BB0000;">NA</span>             300 OmnipathR go_ontology_d… <span style="color: #949494;">&lt;named list&gt;</span> <span style="color: #949494;">&lt;lgl [1]&gt;</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> Gene O… <span style="color: #BB0000;">NA</span>             300 OmnipathR go_ontology_d… <span style="color: #949494;">&lt;named list&gt;</span> <span style="color: #949494;">&lt;lgl [1]&gt;</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> Gene O… <span style="color: #BB0000;">NA</span>             300 OmnipathR go_ontology_d… <span style="color: #949494;">&lt;named list&gt;</span> <span style="color: #949494;">&lt;lgl [1]&gt;</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> Gene O… <span style="color: #BB0000;">NA</span>             300 OmnipathR go_ontology_d… <span style="color: #949494;">&lt;named list&gt;</span> <span style="color: #949494;">&lt;lgl [1]&gt;</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> Gene O… <span style="color: #BB0000;">NA</span>             300 OmnipathR go_ontology_d… <span style="color: #949494;">&lt;named list&gt;</span> <span style="color: #949494;">&lt;lgl [1]&gt;</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> Gene O… <span style="color: #BB0000;">NA</span>             300 OmnipathR go_ontology_d… <span style="color: #949494;">&lt;named list&gt;</span> <span style="color: #949494;">&lt;lgl [1]&gt;</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> Gene O… <span style="color: #BB0000;">NA</span>             300 OmnipathR go_ontology_d… <span style="color: #949494;">&lt;named list&gt;</span> <span style="color: #949494;">&lt;lgl [1]&gt;</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> Gene O… <span style="color: #BB0000;">NA</span>             300 OmnipathR go_ontology_d… <span style="color: #949494;">&lt;named list&gt;</span> <span style="color: #949494;">&lt;lgl [1]&gt;</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> Gene O… <span style="color: #BB0000;">NA</span>             300 OmnipathR go_ontology_d… <span style="color: #949494;">&lt;named list&gt;</span> <span style="color: #949494;">&lt;lgl [1]&gt;</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> Gene O… <span style="color: #BB0000;">NA</span>             300 OmnipathR go_ontology_d… <span style="color: #949494;">&lt;named list&gt;</span> <span style="color: #949494;">&lt;lgl [1]&gt;</span>   </span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 13 more rows</span></span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 3 more variables: loaded &lt;lgl&gt;, db &lt;list&gt;, key &lt;chr&gt;</span></span></span></code></pre>
<p>The above table contains also a reference to the dataset, and the
arguments passed to the loader function:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/omnipath_show_db.html">omnipath_show_db</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">d</span> <span class="op">%&gt;%</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">db</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">magrittr</span><span class="fu">::</span><span class="fu"><a href="https://magrittr.tidyverse.org/reference/aliases.html" class="external-link">extract2</a></span><span class="op">(</span><span class="fl">16</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 20,394 × 2</span></span></span>
<span><span class="co">##    From       To     </span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> A0A087X1C5 CYP2D7 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> A0A0B4J2F0 PIGBOS1</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> A0A0B4J2F2 SIK1B  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> A0A0C5B5G6 MT-RNR1</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> A0A0K2S4Q6 CD300H </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> A0A0U1RRE5 NBDY   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> A0A1B0GTW7 CIROP  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> A0AV02     SLC12A8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> A0AV96     RBM47  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> A0AVF1     TTC26  </span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 20,384 more rows</span></span></span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d</span> <span class="op">%&gt;%</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">latest_param</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">magrittr</span><span class="fu">::</span><span class="fu"><a href="https://magrittr.tidyverse.org/reference/aliases.html" class="external-link">extract2</a></span><span class="op">(</span><span class="fl">16</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## $to</span></span>
<span><span class="co">## [1] "genesymbol"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $organism</span></span>
<span><span class="co">## [1] 9606</span></span></code></pre>
<p>If we call <code>get_db</code> again, the timestamp is updated,
resetting the expiry counter:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">up_gs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_db.html">get_db</a></span><span class="op">(</span><span class="st">'up_gs'</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/omnipath_show_db.html">omnipath_show_db</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 23 × 10</span></span></span>
<span><span class="co">##    name    last_used lifetime package   loader         loader_param latest_param</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>      </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> Gene O… <span style="color: #BB0000;">NA</span>             300 OmnipathR go_ontology_d… <span style="color: #949494;">&lt;named list&gt;</span> <span style="color: #949494;">&lt;lgl [1]&gt;</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> Gene O… <span style="color: #BB0000;">NA</span>             300 OmnipathR go_ontology_d… <span style="color: #949494;">&lt;named list&gt;</span> <span style="color: #949494;">&lt;lgl [1]&gt;</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> Gene O… <span style="color: #BB0000;">NA</span>             300 OmnipathR go_ontology_d… <span style="color: #949494;">&lt;named list&gt;</span> <span style="color: #949494;">&lt;lgl [1]&gt;</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> Gene O… <span style="color: #BB0000;">NA</span>             300 OmnipathR go_ontology_d… <span style="color: #949494;">&lt;named list&gt;</span> <span style="color: #949494;">&lt;lgl [1]&gt;</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> Gene O… <span style="color: #BB0000;">NA</span>             300 OmnipathR go_ontology_d… <span style="color: #949494;">&lt;named list&gt;</span> <span style="color: #949494;">&lt;lgl [1]&gt;</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> Gene O… <span style="color: #BB0000;">NA</span>             300 OmnipathR go_ontology_d… <span style="color: #949494;">&lt;named list&gt;</span> <span style="color: #949494;">&lt;lgl [1]&gt;</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> Gene O… <span style="color: #BB0000;">NA</span>             300 OmnipathR go_ontology_d… <span style="color: #949494;">&lt;named list&gt;</span> <span style="color: #949494;">&lt;lgl [1]&gt;</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> Gene O… <span style="color: #BB0000;">NA</span>             300 OmnipathR go_ontology_d… <span style="color: #949494;">&lt;named list&gt;</span> <span style="color: #949494;">&lt;lgl [1]&gt;</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> Gene O… <span style="color: #BB0000;">NA</span>             300 OmnipathR go_ontology_d… <span style="color: #949494;">&lt;named list&gt;</span> <span style="color: #949494;">&lt;lgl [1]&gt;</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> Gene O… <span style="color: #BB0000;">NA</span>             300 OmnipathR go_ontology_d… <span style="color: #949494;">&lt;named list&gt;</span> <span style="color: #949494;">&lt;lgl [1]&gt;</span>   </span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 13 more rows</span></span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 3 more variables: loaded &lt;lgl&gt;, db &lt;list&gt;, key &lt;chr&gt;</span></span></span></code></pre>
</div>
<div class="section level2">
<h2 id="where-are-the-loaded-datasets">Where are the loaded datasets?<a class="anchor" aria-label="anchor" href="#where-are-the-loaded-datasets"></a>
</h2>
<p>The loaded datasets live in an environment which belong to the
OmnipathR package. Normally users don’t need to access this environment.
As we see below, <code>omnipath_show_db</code> presents us all
information availble by directly looking at the environment:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">OmnipathR</span><span class="fu">:::</span><span class="va">omnipath.env</span><span class="op">$</span><span class="va">db</span><span class="op">$</span><span class="va">up_gs</span></span></code></pre></div>
<pre><code><span><span class="co">## $name</span></span>
<span><span class="co">## [1] "UniProt-GeneSymbol table"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $last_used</span></span>
<span><span class="co">## [1] "2023-06-22 13:03:46 CEST"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $lifetime</span></span>
<span><span class="co">## [1] 300</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $package</span></span>
<span><span class="co">## [1] "OmnipathR"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $loader</span></span>
<span><span class="co">## [1] "uniprot_full_id_mapping_table"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $loader_param</span></span>
<span><span class="co">## $loader_param$to</span></span>
<span><span class="co">## [1] "genesymbol"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $loader_param$organism</span></span>
<span><span class="co">## [1] 9606</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $latest_param</span></span>
<span><span class="co">## $latest_param$to</span></span>
<span><span class="co">## [1] "genesymbol"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $latest_param$organism</span></span>
<span><span class="co">## [1] 9606</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $loaded</span></span>
<span><span class="co">## [1] TRUE</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $db</span></span>
<span><span class="co">## <span style="color: #949494;"># A tibble: 20,394 × 2</span></span></span>
<span><span class="co">##    From       To     </span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> A0A087X1C5 CYP2D7 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> A0A0B4J2F0 PIGBOS1</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> A0A0B4J2F2 SIK1B  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> A0A0C5B5G6 MT-RNR1</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> A0A0K2S4Q6 CD300H </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> A0A0U1RRE5 NBDY   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> A0A1B0GTW7 CIROP  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> A0AV02     SLC12A8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> A0AV96     RBM47  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> A0AVF1     TTC26  </span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 20,384 more rows</span></span></span></code></pre>
</div>
<div class="section level2">
<h2 id="how-to-extend-the-expiry-period">How to extend the expiry period?<a class="anchor" aria-label="anchor" href="#how-to-extend-the-expiry-period"></a>
</h2>
<p>The default expiry of datasets is given by the option
<code>omnipath.db_lifetime</code>. By calling
<code>omnipath_save_config</code> this option is saved to the default
config file and will be valid in all subsequent sessions. Otherwise it’s
valid only in the current session.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>omnipath.db_lifetime <span class="op">=</span> <span class="fl">600</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/omnipath_save_config.html">omnipath_save_config</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="where-are-the-datasets-defined">Where are the datasets defined?<a class="anchor" aria-label="anchor" href="#where-are-the-datasets-defined"></a>
</h2>
<p>The built-in dataset definitions are in a JSON file shipped with the
package. Easiest way to see it is by <a href="https://github.com/saezlab/OmnipathR/blob/master/inst/db/db_def.json" class="external-link">the
git web interface</a>.</p>
</div>
<div class="section level2">
<h2 id="how-to-add-custom-datasets">How to add custom datasets?<a class="anchor" aria-label="anchor" href="#how-to-add-custom-datasets"></a>
</h2>
<p>Currently no API available for this, but it would be super easy to
implement. It would be matter of providing a JSON similar to the above,
or calling a function. Please open an issue if you are interested in
this feature.</p>
</div>
<div class="section level2">
<h2 id="session-information">Session information<a class="anchor" aria-label="anchor" href="#session-information"></a>
</h2>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## R version 4.3.0 (2023-04-21)</span></span>
<span><span class="co">## Platform: x86_64-pc-linux-gnu (64-bit)</span></span>
<span><span class="co">## Running under: Arch Linux</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Matrix products: default</span></span>
<span><span class="co">## BLAS:   /usr/lib/libopenblas.so.0.3 </span></span>
<span><span class="co">## LAPACK: /usr/lib/liblapack.so.3.11.0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## locale:</span></span>
<span><span class="co">##  [1] LC_CTYPE=en_GB.UTF-8       LC_NUMERIC=C              </span></span>
<span><span class="co">##  [3] LC_TIME=en_GB.UTF-8        LC_COLLATE=en_GB.UTF-8    </span></span>
<span><span class="co">##  [5] LC_MONETARY=en_GB.UTF-8    LC_MESSAGES=en_GB.UTF-8   </span></span>
<span><span class="co">##  [7] LC_PAPER=en_GB.UTF-8       LC_NAME=C                 </span></span>
<span><span class="co">##  [9] LC_ADDRESS=C               LC_TELEPHONE=C            </span></span>
<span><span class="co">## [11] LC_MEASUREMENT=en_GB.UTF-8 LC_IDENTIFICATION=C       </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## time zone: Europe/Berlin</span></span>
<span><span class="co">## tzcode source: system (glibc)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## attached base packages:</span></span>
<span><span class="co">## [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## other attached packages:</span></span>
<span><span class="co">## [1] OmnipathR_3.9.6  BiocStyle_2.28.0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## loaded via a namespace (and not attached):</span></span>
<span><span class="co">##  [1] tidyr_1.3.0         rappdirs_0.3.3      sass_0.4.6         </span></span>
<span><span class="co">##  [4] utf8_1.2.3          generics_0.1.3      xml2_1.3.4         </span></span>
<span><span class="co">##  [7] stringi_1.7.12      hms_1.1.3           digest_0.6.31      </span></span>
<span><span class="co">## [10] magrittr_2.0.3      evaluate_0.21       bookdown_0.34      </span></span>
<span><span class="co">## [13] fastmap_1.1.1       cellranger_1.1.0    rprojroot_2.0.3    </span></span>
<span><span class="co">## [16] jsonlite_1.8.4      progress_1.2.2      backports_1.4.1    </span></span>
<span><span class="co">## [19] BiocManager_1.30.20 rvest_1.0.3         httr_1.4.6         </span></span>
<span><span class="co">## [22] selectr_0.4-2       purrr_1.0.1         fansi_1.0.4        </span></span>
<span><span class="co">## [25] textshaping_0.3.6   jquerylib_0.1.4     cli_3.6.1          </span></span>
<span><span class="co">## [28] rlang_1.1.1         crayon_1.5.2        bit64_4.0.5        </span></span>
<span><span class="co">## [31] withr_2.5.0         cachem_1.0.8        yaml_2.3.7         </span></span>
<span><span class="co">## [34] tools_4.3.0         tzdb_0.4.0          memoise_2.0.1      </span></span>
<span><span class="co">## [37] checkmate_2.2.0     dplyr_1.1.2         curl_5.0.0         </span></span>
<span><span class="co">## [40] vctrs_0.6.2         logger_0.2.2        R6_2.5.1           </span></span>
<span><span class="co">## [43] lifecycle_1.0.3     stringr_1.5.0       bit_4.0.5          </span></span>
<span><span class="co">## [46] fs_1.6.2            vroom_1.6.3         ragg_1.2.5         </span></span>
<span><span class="co">## [49] pkgconfig_2.0.3     desc_1.4.2          pkgdown_2.0.7      </span></span>
<span><span class="co">## [52] bslib_0.4.2         pillar_1.9.0        later_1.3.1        </span></span>
<span><span class="co">## [55] glue_1.6.2          Rcpp_1.0.10         systemfonts_1.0.4  </span></span>
<span><span class="co">## [58] xfun_0.39           tibble_3.2.1        tidyselect_1.2.0   </span></span>
<span><span class="co">## [61] knitr_1.43          htmltools_0.5.5     igraph_1.4.3       </span></span>
<span><span class="co">## [64] rmarkdown_2.22      readr_2.1.4         compiler_4.3.0     </span></span>
<span><span class="co">## [67] prettyunits_1.1.1   readxl_1.4.2</span></span></code></pre>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Alberto Valdeolivas, Denes Turei, Attila Gabor.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
